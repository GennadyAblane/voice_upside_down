# Создание APK для Android

## Проблема: "Product type is not an application, not building an APK"

Это нормально для Qt 5.15.2 - APK создается отдельно через `androiddeployqt`.

## Решение: Создание APK вручную

### Вариант 1: Через Qt Creator (рекомендуется)

1. **После успешной сборки:**
   - Build → Build Android APK
   - Qt Creator автоматически вызовет `androiddeployqt`

2. **APK будет создан в:**
   - `build/Android_arm64_v8a_Qt_5_15_2-Release/android-build/build/outputs/apk/debug/voice_upside_down-debug.apk`

### Вариант 2: Через командную строку

1. **Перейдите в папку сборки:**
   ```bash
   cd "D:\git\New Year. Turn your voice upside down\New Year. Turn your voice upside down\voice_upside_down\build\Android_arm64_v8a_Qt_5_15_2-Release"
   ```

2. **Создайте JSON файл для androiddeployqt:**
   Создайте файл `android-deployment-settings.json`:
   ```json
   {
     "description": "This file is generated by qmake to be read by androiddeployqt and should not be modified by hand.",
     "qt": "C:/Qt/5.15.2/android",
     "sdk": "C:/Users/User/AppData/Local/Android/Sdk",
     "sdkBuildToolsRevision": "33.0.0",
     "ndk": "C:/Users/User/AppData/Local/Android/Sdk/ndk/25.2.9519653",
     "toolchain-prefix": "llvm",
     "tool-prefix": "llvm",
     "ndk-host": "windows-x86_64",
     "target-architecture": "arm64-v8a",
     "application-binary": "src/voice_upside_down",
     "android-package-source-directory": "D:/git/New Year. Turn your voice upside down/New Year. Turn your voice upside down/voice_upside_down/android",
     "android-package": "com.voiceupsidedown.master",
     "deployment-dependencies": "qt_binaries",
     "stdcpp-path": "C:/Users/User/AppData/Local/Android/Sdk/ndk/25.2.9519653/sources/cxx-stl/llvm-libc++/libs/arm64-v8a/libc++_shared.so",
     "android-min-sdk-version": "21",
     "android-target-sdk-version": "33"
   }
   ```

3. **Запустите androiddeployqt:**
   ```bash
   C:\Qt\5.15.2\android\bin\androiddeployqt.exe --input android-deployment-settings.json --output android-build --android-platform android-33 --jdk "C:\Program Files\Java\jdk-21" --gradle
   ```

### Вариант 3: Установка через Run (F5)

Просто нажмите **Run (F5)** в Qt Creator - он автоматически:
1. Создаст APK через androiddeployqt
2. Установит на подключенное устройство
3. Запустит приложение

## Проверка APK

После создания APK проверьте:
- Размер APK (обычно 20-50 МБ для Qt приложений)
- Установка на устройство: `adb install -r путь\к\voice_upside_down-debug.apk`
- Запуск приложения на устройстве

## Установка APK вручную

```bash
C:\Users\User\AppData\Local\Android\Sdk\platform-tools\adb.exe install -r "D:\git\New Year. Turn your voice upside down\New Year. Turn your voice upside down\voice_upside_down\build\Android_arm64_v8a_Qt_5_15_2-Release\android-build\build\outputs\apk\debug\voice_upside_down-debug.apk"
```

